# Get what we need to build (GCC + CMake)
FROM debian:9.1

# Get what we need to build (GCC + CMake)
RUN     apt-get update && apt-get install --no-install-recommends -y \
        automake=1:1.15-6 \
        autotools-dev=20161112.1 \
        cmake=3.7.2-1 \
        cppcheck=1.76.1-1 \
        gcc=4:6.3.0-4 \
        g++=4:6.3.0-4 \
        git=1:2.11.0-3+deb9u1 \
        lcov=1.13-1 \
        make=4.1-9.1 \
        python-pip=9.0.1-2 \
        python-pygments=2.2.0+dfsg-1 \
        python-setuptools=33.1.1-1 \
        ruby=1:2.3.3 && \
        #gem
        gem install cucumber --version 2.4.0 && \
        # pip
        pip install wheel && \
        pip install cppcheck-junit==1.4.0 && \
        # Clean up
        apt-get clean -y && \
        apt-get autoclean -y && \
        apt-get autoremove -y && \
        rm -rf /var/lib/apt/lists/*

WORKDIR /source

COPY . ./